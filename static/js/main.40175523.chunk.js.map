{"version":3,"sources":["componens/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","componens/button/Button.module.css","componens/imageGallery/ImageGallery.module.css","componens/spinner/Spinner.module.css","componens/App.module.css","componens/searchbar/Searchbar.module.css","componens/modal/Modal.js","componens/services/api.js","componens/searchbar/Searchbar.js","componens/imageGallery/imageGalleryItem/ImageGalleryItem.js","componens/imageGallery/ImageGallery.js","componens/button/Button.js","componens/spinner/Spinner.js","componens/App.js","index.js","componens/modal/Modal.module.css"],"names":["module","exports","modalRootRef","document","querySelector","Modal","hendleKeyDown","event","code","props","toggleModal","hendleOverlayClick","currentTarget","target","window","addEventListener","this","removeEventListener","largeImage","createPortal","className","styles","Overlay","onClick","src","alt","Component","propType","PropTypes","func","isRequired","string","axios","defaults","baseURL","fetchGallery","query","page","get","then","data","hits","Searchbar","getQuery","SearchForm","onSubmit","preventDefault","FormData","forEach","value","name","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoFocus","autoComplete","placeholder","ImageGalleryItem","largeImageURL","webformatURL","getLargeImage","ImageGalleryItemImage","ImageGallery","gallery","map","item","key","id","arrayOf","shape","number","Button","getGallery","boxButton","Spinner","BoxSpinner","color","height","width","timeout","App","state","showModal","loading","error","setState","options","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","url","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.40175523.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1O4f2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__nubk7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boxButton\":\"Button_boxButton__25_qO\",\"Button\":\"Button_Button__3xOqe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1HR5U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BoxSpinner\":\"Spinner_BoxSpinner__3KQRs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3xGnV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__elXaw\",\"SearchForm\":\"Searchbar_SearchForm__2wPEA\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1zrk_\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3T-PY\",\"SearchFormInput\":\"Searchbar_SearchFormInput__Ymj5o\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRootRef = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  hendleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  hendleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImage } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.hendleOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImage} alt=\"photo\" />\r\n        </div>\r\n      </div>,\r\n      modalRootRef,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propType = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst keyApi = '17937220-71b54ffff2854ec69c40144bd';\r\n\r\nexport const fetchGallery = ({ query = '', page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `/?q=${query}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(data => data.data.hits);\r\n};\r\n","import React from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function Searchbar({ getQuery }) {\r\n  const hendleSubmit = event => {\r\n    event.preventDefault();\r\n    const formData = new FormData(event.target);\r\n\r\n    formData.forEach((value, name) => {\r\n      return getQuery(value);\r\n    });\r\n  };\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={hendleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          name=\"query\"\r\n          autoFocus\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propType = {\r\n  getQuery: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const ImageGalleryItem = ({\r\n  largeImageURL,\r\n  webformatURL,\r\n  getLargeImage,\r\n  toggleModal,\r\n}) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt=\"photo\"\r\n      className={styles.ImageGalleryItemImage}\r\n      onClick={() => {\r\n        getLargeImage(largeImageURL);\r\n        toggleModal();\r\n      }}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propType = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  getLargeImage: PropTypes.func.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { ImageGalleryItem } from './imageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const ImageGallery = ({ gallery, getLargeImage, toggleModal }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {gallery.map(item => {\r\n      return (\r\n        <ImageGalleryItem\r\n          key={item.id}\r\n          {...item}\r\n          toggleModal={toggleModal}\r\n          getLargeImage={getLargeImage}\r\n        />\r\n      );\r\n    })}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propType = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const Button = ({ getGallery, query }) => (\r\n  <div className={styles.boxButton}>\r\n    <button\r\n      type=\"button\"\r\n      className={styles.Button}\r\n      onClick={() => getGallery(query)}\r\n    >\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propType = {\r\n  getGallery: PropTypes.func.isRequired,\r\n  query: PropTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Spinner.module.css';\r\n\r\nexport const Spinner = () => (\r\n  <div className={styles.BoxSpinner}>\r\n    <Loader\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={70}\r\n      width={70}\r\n      timeout={5000}\r\n    />\r\n  </div>\r\n);\r\n","import React, { Component } from 'react';\nimport { Modal } from './modal/Modal';\nimport { fetchGallery } from './services/api';\nimport { Searchbar } from './searchbar/Searchbar';\nimport { ImageGallery } from './imageGallery/ImageGallery';\nimport { Button } from './button/Button';\nimport { Spinner } from './spinner/Spinner';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    query: '',\n    page: 1,\n    largeImage: '',\n    showModal: false,\n    loading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n\n    if (prevState.query !== query) {\n      this.getGallery(query);\n    }\n  }\n\n  getQuery = query => {\n    this.setState({ query, page: 1, gallery: [], error: null });\n  };\n\n  getGallery = query => {\n    this.setState({ loading: true });\n\n    const options = {\n      query,\n      page: this.state.page,\n    };\n\n    fetchGallery(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ loading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  getLargeImage = url => {\n    this.setState({ largeImage: url });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const {\n      showModal,\n      loading,\n      gallery,\n      largeImage,\n      error,\n      query,\n    } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar getQuery={this.getQuery} />\n\n        {error && <h1>Sorry there was an error</h1>}\n\n        <ImageGallery\n          gallery={gallery}\n          toggleModal={this.toggleModal}\n          getLargeImage={this.getLargeImage}\n        />\n\n        {loading ? (\n          <Spinner />\n        ) : (\n          gallery.length > 0 && (\n            <Button getGallery={this.getGallery} query={query} />\n          )\n        )}\n\n        {showModal && (\n          <Modal toggleModal={this.toggleModal} largeImage={largeImage} />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './componens/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './base.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__7S7u7\",\"Modal\":\"Modal_Modal__2nhYu\"};"],"sourceRoot":""}