(this["webpackJsonpgoit-react-hw-02"]=this["webpackJsonpgoit-react-hw-02"]||[]).push([[0],{11:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1O4f2",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__nubk7"}},12:function(e,a,t){e.exports={boxButton:"Button_boxButton__25_qO",Button:"Button_Button__3xOqe"}},23:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__1HR5U"}},25:function(e,a,t){e.exports={BoxSpinner:"Spinner_BoxSpinner__3KQRs"}},26:function(e,a,t){e.exports={App:"App_App__3xGnV"}},27:function(e,a,t){e.exports=t(72)},3:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__elXaw",SearchForm:"Searchbar_SearchForm__2wPEA",SearchFormButton:"Searchbar_SearchFormButton__1zrk_",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3T-PY",SearchFormInput:"Searchbar_SearchFormInput__Ymj5o"}},71:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(4),l=t.n(o),c=t(13),u=t(5),i=t(6),g=t(8),m=t(7),s=t(9),p=t.n(s),y=t(1),d=t.n(y),h=document.querySelector("#modal-root"),f=function(e){Object(g.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).hendleKeyDown=function(a){"Escape"===a.code&&e.props.toggleModal()},e.hendleOverlayClick=function(a){a.currentTarget===a.target&&e.props.toggleModal()},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendleKeyDown)}},{key:"render",value:function(){var e=this.props.largeImage;return Object(o.createPortal)(n.a.createElement("div",{className:p.a.Overlay,onClick:this.hendleOverlayClick},n.a.createElement("div",{className:p.a.Modal},n.a.createElement("img",{src:e,alt:"photo"}))),h)}}]),t}(r.Component);f.propType={toggleModal:d.a.func.isRequired,largeImage:d.a.string.isRequired};var _=t(10),v=t.n(_);v.a.defaults.baseURL="https://pixabay.com/api";var b=function(e){var a=e.query,t=void 0===a?"":a,r=e.page,n=void 0===r?1:r;return v.a.get("/?q=".concat(t,"&page=").concat(n,"&key=").concat("17937220-71b54ffff2854ec69c40144bd","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},I=t(3),S=t.n(I);function E(e){var a=e.getQuery;return n.a.createElement("header",{className:S.a.Searchbar},n.a.createElement("form",{className:S.a.SearchForm,onSubmit:function(e){e.preventDefault(),new FormData(e.target).forEach((function(e,t){return a(e)}))}},n.a.createElement("button",{type:"submit",className:S.a.SearchFormButton},n.a.createElement("span",{className:S.a.SearchFormButtonLabel},"Search")),n.a.createElement("input",{className:S.a.SearchFormInput,type:"text",name:"query",autoFocus:!0,autoComplete:"off",placeholder:"Search images and photos"})))}E.propType={getQuery:d.a.func.isRequired};var w=t(11),q=t.n(w),M=function(e){var a=e.largeImageURL,t=e.webformatURL,r=e.getLargeImage,o=e.toggleModal;return n.a.createElement("li",{className:q.a.ImageGalleryItem},n.a.createElement("img",{src:t,alt:"photo",className:q.a.ImageGalleryItemImage,onClick:function(){r(a),o()}}))};M.propType={largeImageURL:d.a.string.isRequired,webformatURL:d.a.string.isRequired,getLargeImage:d.a.func.isRequired,toggleModal:d.a.func.isRequired};var O=t(23),G=t.n(O),k=function(e){var a=e.gallery,t=e.getLargeImage,r=e.toggleModal;return n.a.createElement("ul",{className:G.a.ImageGallery},a.map((function(e){return n.a.createElement(M,Object.assign({key:e.id},e,{toggleModal:r,getLargeImage:t}))})))};k.propType={gallery:d.a.arrayOf(d.a.shape({id:d.a.number.isRequired})).isRequired};var x=t(12),B=t.n(x),L=function(e){var a=e.getGallery,t=e.query;return n.a.createElement("div",{className:B.a.boxButton},n.a.createElement("button",{type:"button",className:B.a.Button,onClick:function(){return a(t)}},"Load more"))};L.propType={getGallery:d.a.func.isRequired,query:d.a.string.isRequired};var R=t(24),F=t.n(R),N=t(25),j=t.n(N),T=function(){return n.a.createElement("div",{className:j.a.BoxSpinner},n.a.createElement(F.a,{type:"TailSpin",color:"#3f51b5",height:70,width:70,timeout:5e3}))},C=t(26),U=t.n(C),A=function(e){Object(g.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={gallery:[],query:"",page:1,largeImage:"",showModal:!1,loading:!1,error:null},e.getQuery=function(a){e.setState({query:a,page:1,gallery:[],error:null})},e.getGallery=function(a){e.setState({loading:!0});var t={query:a,page:e.state.page};b(t).then((function(a){e.setState((function(e){return{gallery:[].concat(Object(c.a)(e.gallery),Object(c.a)(a)),page:e.page+1}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){e.setState({loading:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e.getLargeImage=function(a){e.setState({largeImage:a})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.state.query;a.query!==t&&this.getGallery(t)}},{key:"render",value:function(){var e=this.state,a=e.showModal,t=e.loading,r=e.gallery,o=e.largeImage,l=e.error,c=e.query;return n.a.createElement("div",{className:U.a.App},n.a.createElement(E,{getQuery:this.getQuery}),l&&n.a.createElement("h1",null,"Sorry there was an error"),n.a.createElement(k,{gallery:r,toggleModal:this.toggleModal,getLargeImage:this.getLargeImage}),t?n.a.createElement(T,null):r.length>0&&n.a.createElement(L,{getGallery:this.getGallery,query:c}),a&&n.a.createElement(f,{toggleModal:this.toggleModal,largeImage:o}))}}]),t}(r.Component);t(70),t(71);l.a.render(n.a.createElement(A,null),document.getElementById("root"))},9:function(e,a,t){e.exports={Overlay:"Modal_Overlay__7S7u7",Modal:"Modal_Modal__2nhYu"}}},[[27,1,2]]]);
//# sourceMappingURL=main.40175523.chunk.js.map